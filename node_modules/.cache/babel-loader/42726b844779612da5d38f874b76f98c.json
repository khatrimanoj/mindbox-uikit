{"ast":null,"code":"var _jsxFileName = \"/home/mindbox/Documents/manoj/nexus/src/components/Dropdown/dropdownsearch/dropdownsearch.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass dropdownsearch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.checkType = value => {\n      this.setState({\n        typeDropdown: value\n      });\n    };\n\n    this.showDropdown = () => {\n      this.setState({\n        isOpen: true\n      });\n      document.addEventListener(\"click\", this.hideDropdown);\n    };\n\n    this.hideDropdown = () => {\n      this.setState({\n        isOpen: false\n      });\n      document.removeEventListener(\"click\", this.hideDropdown);\n    };\n\n    this.chooseItem = value => {\n      if (this.state.labelItem !== value) {\n        this.setState({\n          labelItem: value\n        });\n      }\n    };\n\n    this.renderDataDropDown = (item, index) => {\n      const {\n        value,\n        label\n      } = this.state.typeDropdown ? {\n        value: index,\n        label: item\n      } : item;\n      return React.createElement(\"li\", {\n        key: index,\n        value: value,\n        onClick: () => this.chooseItem(label),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, label));\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        searchString: e.target.value\n      });\n    };\n\n    this.state = {\n      isOpen: false,\n      labelItem: null,\n      typeDropdown: null,\n      searchString: '',\n      autoFocus: true\n    };\n    this.inputRef = React.createRef();\n    this.showDropdown = this.showDropdown.bind(this);\n  }\n\n  componentWillMount() {\n    const {\n      label\n    } = this.props.list[0];\n    let firstItem = null;\n\n    if (typeof label != 'undefined') {\n      this.checkType(false);\n      firstItem = label;\n    } else {\n      this.checkType(true);\n      firstItem = this.props.list[0];\n    }\n\n    this.setState({\n      labelItem: firstItem\n    });\n  }\n\n  render() {\n    const {\n      list,\n      size,\n      border\n    } = this.props;\n    const dropdownClassname = `\n        dropdown\n        ${size === 'lg' && 'lg-dropdown'}\n        `;\n    const dropdowntoggleclass = `\n        dropdown-toggle\n        ${border === 'false' && 'bordernone'}\n        `;\n    /* searching code start here*/\n\n    var libraries = list,\n        searchString = this.state.searchString.trim().toLowerCase();\n\n    if (searchString.length > 0) {\n      libraries = libraries.filter(function (i) {\n        return i.label.toLowerCase().match(searchString);\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: ` ${dropdownClassname} ${this.state.isOpen ? 'open' : ''}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: dropdowntoggleclass,\n      type: \"button\",\n      onClick: this.showDropdown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.labelItem), React.createElement(\"ul\", {\n      className: \"dropdown-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      autofocus: \"true\",\n      value: this.state.searchString,\n      ref: this.inputRef,\n      onChange: this.handleChange,\n      placeholder: \"Type here...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), libraries.map(this.renderDataDropDown)));\n  }\n\n}\n\ndropdownsearch.propTypes = {\n  list: PropTypes.array.isRequired\n};\ndropdownsearch.defaultProps = {\n  list: []\n};\nexport default dropdownsearch;","map":{"version":3,"sources":["/home/mindbox/Documents/manoj/nexus/src/components/Dropdown/dropdownsearch/dropdownsearch.js"],"names":["React","Component","PropTypes","dropdownsearch","constructor","props","checkType","value","setState","typeDropdown","showDropdown","isOpen","document","addEventListener","hideDropdown","removeEventListener","chooseItem","state","labelItem","renderDataDropDown","item","index","label","handleChange","e","searchString","target","autoFocus","inputRef","createRef","bind","componentWillMount","list","firstItem","render","size","border","dropdownClassname","dropdowntoggleclass","libraries","trim","toLowerCase","length","filter","i","match","map","propTypes","array","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass dropdownsearch extends Component {\n    static propTypes = {\n        list: PropTypes.array.isRequired\n      };\n      static defaultProps = {\n        list: []\n      };\n      \n      constructor(props) {\n        super(props);    \n        this.state = {\n          isOpen: false,\n          labelItem: null,\n          typeDropdown: null,\n          searchString: '',\n          autoFocus: true\n         \n        };\n        this.inputRef = React.createRef();\n        this.showDropdown = this.showDropdown.bind(this);\n\n\n      }\n    \n      componentWillMount() {\n        const { label } = this.props.list[0];\n        let firstItem = null;    \n        if (typeof label != 'undefined') {\n          this.checkType(false);\n          firstItem = label;\n        } else {\n          this.checkType(true);\n          firstItem = this.props.list[0];\n        }        \n        this.setState({\n            labelItem: firstItem\n        });    \n        \n      }\n      checkType = (value) => {\n        this.setState({\n            typeDropdown: value\n        });    \n      };\n      showDropdown = () => {\n        this.setState({ isOpen: true });\n        document.addEventListener(\"click\", this.hideDropdown);\n      };\n      hideDropdown = () => {\n        this.setState({ isOpen: false });\n        document.removeEventListener(\"click\", this.hideDropdown);\n      };\n      chooseItem = (value) => {    \n        if (this.state.labelItem !== value) {\n          this.setState({\n            labelItem: value      \n          })\n        }    \n      };\n      \n      \n      renderDataDropDown = (item, index) => {    \n        const {value, label} = this.state.typeDropdown ? {value: index, label: item} : item;    \n        return (\n          <li\n            key={index}\n            value={value}\n            onClick={() => this.chooseItem(label)}\n          >\n            <a>{label}</a>\n          </li> \n        )\n      };\n     \n   handleChange = (e) => {\n     this.setState({ searchString: e.target.value });\n   }\n    render() {\n        const { list,size,border } = this.props; \n        const dropdownClassname = `\n        dropdown\n        ${size === 'lg' && 'lg-dropdown'}\n        `;   \n        const  dropdowntoggleclass = `\n        dropdown-toggle\n        ${border === 'false' && 'bordernone'}\n        `;   \n       /* searching code start here*/ \n       var libraries = list,\n       searchString = this.state.searchString.trim().toLowerCase();\n   if (searchString.length > 0) {\n     libraries = libraries.filter(function(i) {\n       return i.label.toLowerCase().match( searchString );\n     });\n   }\n        return (\n          <div className={ ` ${dropdownClassname} ${this.state.isOpen ? 'open' : ''}`} >\n            <button className={dropdowntoggleclass} type=\"button\" onClick={this.showDropdown}>\n               {this.state.labelItem}\n              \n            </button>\n            \n            <ul className=\"dropdown-menu\">\n                <li>\n                <input type=\"text\" autofocus=\"true\" value={this.state.searchString} ref={this.inputRef} onChange={this.handleChange} placeholder=\"Type here...\"/>\n                </li>\n              {libraries.map(this.renderDataDropDown)}\n            </ul>\n          </div>\n        );\n    }\n}\n\nexport default dropdownsearch;"]},"metadata":{},"sourceType":"module"}