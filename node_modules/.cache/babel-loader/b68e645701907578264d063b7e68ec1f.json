{"ast":null,"code":"var _jsxFileName = \"/home/mindbox/Documents/vicky/react-project/nexus project/current project/nexus(28-3-2020-morning)/nexus/src/components/input/textarea/textarea.js\";\nimport React, { Component } from 'react';\nconst DEFAULT_HEIGHT = 20;\nexport default class Textarea extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      height: DEFAULT_HEIGHT,\n      value: \"\"\n    };\n    this.setValue = this.setValue.bind(this);\n    this.setFilledTextareaHeight = this.setFilledTextareaHeight.bind(this);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setFilledTextareaHeight();\n  }\n\n  setFilledTextareaHeight() {\n    if (this.mounted) {\n      const element = this.ghost;\n      this.setState({\n        height: element.clientHeight\n      });\n    }\n  }\n\n  setValue(event) {\n    const {\n      value\n    } = event.target;\n    this.setState({\n      value\n    });\n  }\n\n  getExpandableField() {\n    const isOneLine = this.state.height <= DEFAULT_HEIGHT;\n    const {\n      height,\n      value\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"textarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Add some text...\"), React.createElement(\"textarea\", {\n      className: \"textarea\",\n      name: \"textarea\",\n      id: \"textarea\",\n      autoFocus: true,\n      defaultValue: value,\n      style: {\n        height,\n        resize: isOneLine ? \"none\" : null\n      },\n      onChange: this.setValue,\n      onKeyUp: this.setFilledTextareaHeight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }));\n  }\n\n  getGhostField() {\n    return React.createElement(\"div\", {\n      className: \"textarea textarea--ghost\",\n      ref: c => this.ghost = c,\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.value);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.getExpandableField(), this.getGhostField());\n  }\n\n}","map":{"version":3,"sources":["/home/mindbox/Documents/vicky/react-project/nexus project/current project/nexus(28-3-2020-morning)/nexus/src/components/input/textarea/textarea.js"],"names":["React","Component","DEFAULT_HEIGHT","Textarea","constructor","props","state","height","value","setValue","bind","setFilledTextareaHeight","componentDidMount","mounted","element","ghost","setState","clientHeight","event","target","getExpandableField","isOneLine","resize","getGhostField","c","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,MAAMC,cAAc,GAAG,EAAvB;AAEA,eAAe,MAAMC,QAAN,SAAuBH,KAAK,CAACC,SAA7B,CAAuC;AAEpDG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAEL,cADG;AAEXM,MAAAA,KAAK,EAAE;AAFI,KAAb;AAKA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BD,IAA7B,CAAkC,IAAlC,CAA/B;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,OAAL,GAAe,IAAf;AAEA,SAAKF,uBAAL;AACD;;AAEDA,EAAAA,uBAAuB,GAAG;AACxB,QAAI,KAAKE,OAAT,EAAkB;AAChB,YAAMC,OAAO,GAAG,KAAKC,KAArB;AAEA,WAAKC,QAAL,CAAc;AACZT,QAAAA,MAAM,EAAEO,OAAO,CAACG;AADJ,OAAd;AAGD;AACF;;AAEDR,EAAAA,QAAQ,CAACS,KAAD,EAAQ;AACd,UAAM;AAAEV,MAAAA;AAAF,QAAWU,KAAK,CAACC,MAAvB;AAEA,SAAKH,QAAL,CAAc;AAAER,MAAAA;AAAF,KAAd;AACD;;AAEDY,EAAAA,kBAAkB,GAAG;AACnB,UAAMC,SAAS,GAAG,KAAKf,KAAL,CAAWC,MAAX,IAAqBL,cAAvC;AACA,UAAM;AAAEK,MAAAA,MAAF;AAAUC,MAAAA;AAAV,QAAoB,KAAKF,KAA/B;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,EAAE,EAAC,UAHL;AAIE,MAAA,SAAS,EAAE,IAJb;AAKE,MAAA,YAAY,EAAEE,KALhB;AAME,MAAA,KAAK,EAAE;AACLD,QAAAA,MADK;AAELe,QAAAA,MAAM,EAAED,SAAS,GAAG,MAAH,GAAY;AAFxB,OANT;AAUE,MAAA,QAAQ,EAAE,KAAKZ,QAVjB;AAWE,MAAA,OAAO,EAAE,KAAKE,uBAXhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAkBD;;AAEDY,EAAAA,aAAa,GAAG;AACd,WACE;AACE,MAAA,SAAS,EAAC,0BADZ;AAEE,MAAA,GAAG,EAAGC,CAAD,IAAO,KAAKT,KAAL,GAAaS,CAF3B;AAGE,qBAAY,MAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,KAAKlB,KAAL,CAAWE,KALd,CADF;AASD;;AAEDiB,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKL,kBAAL,EADH,EAEG,KAAKG,aAAL,EAFH,CADF;AAMD;;AA/EmD","sourcesContent":["import React, { Component } from 'react';\n\nconst DEFAULT_HEIGHT = 20;\n\nexport default class Textarea extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      height: DEFAULT_HEIGHT,\n      value: \"\",\n    };\n\n    this.setValue = this.setValue.bind(this);\n    this.setFilledTextareaHeight = this.setFilledTextareaHeight.bind(this);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    this.setFilledTextareaHeight();\n  }\n\n  setFilledTextareaHeight() {\n    if (this.mounted) {\n      const element = this.ghost;\n\n      this.setState({\n        height: element.clientHeight,\n      });\n    }\n  }\n\n  setValue(event) {\n    const { value }= event.target;\n\n    this.setState({ value });\n  }\n\n  getExpandableField() {\n    const isOneLine = this.state.height <= DEFAULT_HEIGHT;\n    const { height, value } = this.state;\n\n    return (\n      <div>\n        <label htmlFor=\"textarea\">Add some text...</label>\n        <textarea\n          className=\"textarea\"\n          name=\"textarea\"\n          id=\"textarea\"\n          autoFocus={true}\n          defaultValue={value}\n          style={{\n            height,\n            resize: isOneLine ? \"none\" : null\n          }}\n          onChange={this.setValue}\n          onKeyUp={this.setFilledTextareaHeight}\n        />\n      </div>\n    );\n  }\n\n  getGhostField() {\n    return (\n      <div\n        className=\"textarea textarea--ghost\"\n        ref={(c) => this.ghost = c}\n        aria-hidden=\"true\"\n      >\n        {this.state.value}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        {this.getExpandableField()}\n        {this.getGhostField()}\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}