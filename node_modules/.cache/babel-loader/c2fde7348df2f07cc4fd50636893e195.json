{"ast":null,"code":"import _classCallCheck from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';var dropdownsearch=/*#__PURE__*/function(_Component){_inherits(dropdownsearch,_Component);function dropdownsearch(props){var _this;_classCallCheck(this,dropdownsearch);_this=_possibleConstructorReturn(this,_getPrototypeOf(dropdownsearch).call(this,props));_this.checkType=function(value){_this.setState({typeDropdown:value});};_this.showDropdown=function(){_this.setState({isOpen:true});document.addEventListener(\"click\",_this.hideDropdown);};_this.hideDropdown=function(){_this.setState({isOpen:false});document.removeEventListener(\"click\",_this.hideDropdown);};_this.chooseItem=function(value){if(_this.state.labelItem!==value){_this.setState({labelItem:value});}};_this.renderDataDropDown=function(item,index){var _ref=_this.state.typeDropdown?{value:index,label:item}:item,value=_ref.value,label=_ref.label;return React.createElement(\"li\",{key:index,value:value,onClick:function onClick(){return _this.chooseItem(label);}},React.createElement(\"a\",null,label));};_this.handleChange=function(e){_this.setState({searchString:e.target.value});};_this.state={isOpen:false,labelItem:null,typeDropdown:null,searchString:'',autoFocus:true};_this.inputRef=React.createRef();_this.showDropdown=_this.showDropdown.bind(_assertThisInitialized(_this));return _this;}_createClass(dropdownsearch,[{key:\"componentWillMount\",value:function componentWillMount(){var label=this.props.list[0].label;var firstItem=null;if(typeof label!='undefined'){this.checkType(false);firstItem=label;}else{this.checkType(true);firstItem=this.props.list[0];}this.setState({labelItem:firstItem});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.inputRef.current.focus();}},{key:\"render\",value:function render(){var _this$props=this.props,list=_this$props.list,size=_this$props.size,border=_this$props.border;var dropdownClassname=\"\\n        dropdown\\n        \".concat(size==='lg'&&'lg-dropdown',\"\\n        \");var dropdowntoggleclass=\"\\n        dropdown-toggle\\n        \".concat(border==='false'&&'bordernone',\"\\n        \");/* searching code start here*/var libraries=list,searchString=this.state.searchString.trim().toLowerCase();if(searchString.length>0){libraries=libraries.filter(function(i){return i.label.toLowerCase().match(searchString);});}return React.createElement(\"div\",{className:\" \".concat(dropdownClassname,\" \").concat(this.state.isOpen?'open':'')},React.createElement(\"button\",{className:dropdowntoggleclass,type:\"button\",onClick:this.showDropdown},this.state.labelItem),React.createElement(\"ul\",{className:\"dropdown-menu\"},React.createElement(\"li\",null,React.createElement(\"input\",{type:\"text\",value:this.state.searchString,ref:this.inputRef,onChange:this.handleChange,placeholder:\"Type here...\"})),libraries.map(this.renderDataDropDown)));}}]);return dropdownsearch;}(Component);dropdownsearch.defaultProps={list:[]};export default dropdownsearch;","map":{"version":3,"sources":["/home/mindbox/Documents/manoj/nexus/src/components/Dropdown/dropdownsearch/dropdownsearch.js"],"names":["React","Component","dropdownsearch","props","checkType","value","setState","typeDropdown","showDropdown","isOpen","document","addEventListener","hideDropdown","removeEventListener","chooseItem","state","labelItem","renderDataDropDown","item","index","label","handleChange","e","searchString","target","autoFocus","inputRef","createRef","bind","list","firstItem","current","focus","size","border","dropdownClassname","dropdowntoggleclass","libraries","trim","toLowerCase","length","filter","i","match","map","defaultProps"],"mappings":"07BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAGMC,CAAAA,c,wEAQA,wBAAYC,KAAZ,CAAmB,gDACjB,gFAAMA,KAAN,GADiB,MAkCnBC,SAlCmB,CAkCP,SAACC,KAAD,CAAW,CACrB,MAAKC,QAAL,CAAc,CACVC,YAAY,CAAEF,KADJ,CAAd,EAGD,CAtCkB,OAuCnBG,YAvCmB,CAuCJ,UAAM,CACnB,MAAKF,QAAL,CAAc,CAAEG,MAAM,CAAE,IAAV,CAAd,EACAC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmC,MAAKC,YAAxC,EACD,CA1CkB,OA2CnBA,YA3CmB,CA2CJ,UAAM,CACnB,MAAKN,QAAL,CAAc,CAAEG,MAAM,CAAE,KAAV,CAAd,EACAC,QAAQ,CAACG,mBAAT,CAA6B,OAA7B,CAAsC,MAAKD,YAA3C,EACD,CA9CkB,OA+CnBE,UA/CmB,CA+CN,SAACT,KAAD,CAAW,CACtB,GAAI,MAAKU,KAAL,CAAWC,SAAX,GAAyBX,KAA7B,CAAoC,CAClC,MAAKC,QAAL,CAAc,CACZU,SAAS,CAAEX,KADC,CAAd,EAGD,CACF,CArDkB,OAwDnBY,kBAxDmB,CAwDE,SAACC,IAAD,CAAOC,KAAP,CAAiB,UACb,MAAKJ,KAAL,CAAWR,YAAX,CAA0B,CAACF,KAAK,CAAEc,KAAR,CAAeC,KAAK,CAAEF,IAAtB,CAA1B,CAAwDA,IAD3C,CAC7Bb,KAD6B,MAC7BA,KAD6B,CACtBe,KADsB,MACtBA,KADsB,CAEpC,MACE,2BACE,GAAG,CAAED,KADP,CAEE,KAAK,CAAEd,KAFT,CAGE,OAAO,CAAE,yBAAM,OAAKS,UAAL,CAAgBM,KAAhB,CAAN,EAHX,EAKE,6BAAIA,KAAJ,CALF,CADF,CASD,CAnEkB,OAqEtBC,YArEsB,CAqEP,SAACC,CAAD,CAAO,CACpB,MAAKhB,QAAL,CAAc,CAAEiB,YAAY,CAAED,CAAC,CAACE,MAAF,CAASnB,KAAzB,CAAd,EACD,CAvEqB,CAEjB,MAAKU,KAAL,CAAa,CACXN,MAAM,CAAE,KADG,CAEXO,SAAS,CAAE,IAFA,CAGXT,YAAY,CAAE,IAHH,CAIXgB,YAAY,CAAE,EAJH,CAKXE,SAAS,CAAE,IALA,CAAb,CAQA,MAAKC,QAAL,CAAgB1B,KAAK,CAAC2B,SAAN,EAAhB,CACA,MAAKnB,YAAL,CAAoB,MAAKA,YAAL,CAAkBoB,IAAlB,+BAApB,CAXiB,aAclB,C,0FAEoB,IACXR,CAAAA,KADW,CACD,KAAKjB,KAAL,CAAW0B,IAAX,CAAgB,CAAhB,CADC,CACXT,KADW,CAEnB,GAAIU,CAAAA,SAAS,CAAG,IAAhB,CACA,GAAI,MAAOV,CAAAA,KAAP,EAAgB,WAApB,CAAiC,CAC/B,KAAKhB,SAAL,CAAe,KAAf,EACA0B,SAAS,CAAGV,KAAZ,CACD,CAHD,IAGO,CACL,KAAKhB,SAAL,CAAe,IAAf,EACA0B,SAAS,CAAG,KAAK3B,KAAL,CAAW0B,IAAX,CAAgB,CAAhB,CAAZ,CACD,CACD,KAAKvB,QAAL,CAAc,CACVU,SAAS,CAAEc,SADD,CAAd,EAID,C,+DACoB,CACnB,KAAKJ,QAAL,CAAcK,OAAd,CAAsBC,KAAtB,GACD,C,uCAuCM,iBACwB,KAAK7B,KAD7B,CACG0B,IADH,aACGA,IADH,CACQI,IADR,aACQA,IADR,CACaC,MADb,aACaA,MADb,CAEL,GAAMC,CAAAA,iBAAiB,uCAErBF,IAAI,GAAK,IAAT,EAAiB,aAFI,cAAvB,CAIA,GAAOG,CAAAA,mBAAmB,8CAExBF,MAAM,GAAK,OAAX,EAAsB,YAFE,cAA1B,CAID,8BACA,GAAIG,CAAAA,SAAS,CAAGR,IAAhB,CACAN,YAAY,CAAG,KAAKR,KAAL,CAAWQ,YAAX,CAAwBe,IAAxB,GAA+BC,WAA/B,EADf,CAEJ,GAAIhB,YAAY,CAACiB,MAAb,CAAsB,CAA1B,CAA6B,CAC3BH,SAAS,CAAGA,SAAS,CAACI,MAAV,CAAiB,SAASC,CAAT,CAAY,CACvC,MAAOA,CAAAA,CAAC,CAACtB,KAAF,CAAQmB,WAAR,GAAsBI,KAAtB,CAA6BpB,YAA7B,CAAP,CACD,CAFW,CAAZ,CAGD,CACI,MACE,4BAAK,SAAS,YAAOY,iBAAP,aAA4B,KAAKpB,KAAL,CAAWN,MAAX,CAAoB,MAApB,CAA6B,EAAzD,CAAd,EACE,8BAAQ,SAAS,CAAE2B,mBAAnB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,OAAO,CAAE,KAAK5B,YAApE,EACI,KAAKO,KAAL,CAAWC,SADf,CADF,CAME,0BAAI,SAAS,CAAC,eAAd,EACI,8BACA,6BAAO,IAAI,CAAC,MAAZ,CAAoB,KAAK,CAAE,KAAKD,KAAL,CAAWQ,YAAtC,CAAoD,GAAG,CAAE,KAAKG,QAA9D,CAAwE,QAAQ,CAAE,KAAKL,YAAvF,CAAqG,WAAW,CAAC,cAAjH,EADA,CADJ,CAIGgB,SAAS,CAACO,GAAV,CAAc,KAAK3B,kBAAnB,CAJH,CANF,CADF,CAeH,C,4BAjHwBhB,S,EAAvBC,c,CAIO2C,Y,CAAe,CACpBhB,IAAI,CAAE,EADc,C,CAgH5B,cAAe3B,CAAAA,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass dropdownsearch extends Component {\n    static propTypes = {\n        list: PropTypes.array.isRequired\n      };\n      static defaultProps = {\n        list: []\n      };\n      \n      constructor(props) {\n        super(props);    \n        this.state = {\n          isOpen: false,\n          labelItem: null,\n          typeDropdown: null,\n          searchString: '',\n          autoFocus: true\n         \n        };\n        this.inputRef = React.createRef();\n        this.showDropdown = this.showDropdown.bind(this);\n\n\n      }\n    \n      componentWillMount() {\n        const { label } = this.props.list[0];\n        let firstItem = null;    \n        if (typeof label != 'undefined') {\n          this.checkType(false);\n          firstItem = label;\n        } else {\n          this.checkType(true);\n          firstItem = this.props.list[0];\n        }        \n        this.setState({\n            labelItem: firstItem\n        });    \n        \n      }\n      componentDidUpdate() {\n        this.inputRef.current.focus();\n      }\n      checkType = (value) => {\n        this.setState({\n            typeDropdown: value\n        });    \n      };\n      showDropdown = () => {\n        this.setState({ isOpen: true });\n        document.addEventListener(\"click\", this.hideDropdown);\n      };\n      hideDropdown = () => {\n        this.setState({ isOpen: false });\n        document.removeEventListener(\"click\", this.hideDropdown);\n      };\n      chooseItem = (value) => {    \n        if (this.state.labelItem !== value) {\n          this.setState({\n            labelItem: value      \n          })\n        }    \n      };\n      \n      \n      renderDataDropDown = (item, index) => {    \n        const {value, label} = this.state.typeDropdown ? {value: index, label: item} : item;    \n        return (\n          <li\n            key={index}\n            value={value}\n            onClick={() => this.chooseItem(label)}\n          >\n            <a>{label}</a>\n          </li> \n        )\n      };\n     \n   handleChange = (e) => {\n     this.setState({ searchString: e.target.value });\n   }\n    render() {\n        const { list,size,border } = this.props; \n        const dropdownClassname = `\n        dropdown\n        ${size === 'lg' && 'lg-dropdown'}\n        `;   \n        const  dropdowntoggleclass = `\n        dropdown-toggle\n        ${border === 'false' && 'bordernone'}\n        `;   \n       /* searching code start here*/ \n       var libraries = list,\n       searchString = this.state.searchString.trim().toLowerCase();\n   if (searchString.length > 0) {\n     libraries = libraries.filter(function(i) {\n       return i.label.toLowerCase().match( searchString );\n     });\n   }\n        return (\n          <div className={ ` ${dropdownClassname} ${this.state.isOpen ? 'open' : ''}`} >\n            <button className={dropdowntoggleclass} type=\"button\" onClick={this.showDropdown}>\n               {this.state.labelItem}\n              \n            </button>\n            \n            <ul className=\"dropdown-menu\">\n                <li>\n                <input type=\"text\"  value={this.state.searchString} ref={this.inputRef} onChange={this.handleChange} placeholder=\"Type here...\"/>\n                </li>\n              {libraries.map(this.renderDataDropDown)}\n            </ul>\n          </div>\n        );\n    }\n}\n\nexport default dropdownsearch;"]},"metadata":{},"sourceType":"module"}